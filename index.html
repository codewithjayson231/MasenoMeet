<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasenoMeet - Connect with Maseno University Students</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page" class="page active">
        <nav class="landing-nav">
            <div class="logo">
                <i class="fas fa-heart-pulse"></i>
                <span>MasenoMeet</span>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline" onclick="showPage('login-page')">Login</button>
                <button class="btn btn-primary" onclick="showPage('register-page')">Sign Up</button>
            </div>
        </nav>
        
        <main class="landing-hero">
            <div class="hero-content">
                <h1>Find Your <span class="gradient-text">Vibe</span> at Maseno</h1>
                <p>Connect with fellow students for friendship, parties, relationships, or whatever you're looking for. Your campus, your rules.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-lg" onclick="showPage('register-page')">
                        <i class="fas fa-rocket"></i> Get Started
                    </button>
                    <button class="btn btn-outline btn-lg" onclick="showPage('login-page')">
                        <i class="fas fa-sign-in-alt"></i> I have an account
                    </button>
                </div>
                <div class="intent-tags">
                    <span class="tag"><i class="fas fa-users"></i> Friendship</span>
                    <span class="tag"><i class="fas fa-glass-cheers"></i> Party Buddies</span>
                    <span class="tag"><i class="fas fa-heart"></i> Relationship</span>
                    <span class="tag"><i class="fas fa-fire"></i> Casual</span>
                </div>
            </div>
            <div class="hero-image">
                <div class="floating-cards">
                    <div class="preview-card card-1">
                        <div class="card-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span>Jane, 21</span>
                        <small>Looking for friends</small>
                    </div>
                    <div class="preview-card card-2">
                        <div class="card-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span>Mike, 22</span>
                        <small>Party buddy</small>
                    </div>
                    <div class="preview-card card-3">
                        <div class="card-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span>Sarah, 20</span>
                        <small>Relationship</small>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="page">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <div class="logo">
                        <i class="fas fa-heart-pulse"></i>
                        <span>MasenoMeet</span>
                    </div>
                    <h2>Welcome Back</h2>
                    <p>Sign in to continue connecting</p>
                </div>
                <form id="login-form" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="login-email" placeholder="your@maseno.ac.ke" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="login-password" placeholder="Enter password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('login-password')"></i>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox"> Remember me
                        </label>
                        <a href="#" class="forgot-link">Forgot password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>
                <div class="auth-divider">
                    <span>or continue with</span>
                </div>
                <button class="btn btn-google btn-block" onclick="googleSignIn()">
                    <i class="fab fa-google"></i> Google
                </button>
                <p class="auth-footer">
                    Don't have an account? <a href="#" onclick="showPage('register-page')">Sign up</a>
                </p>
                <button class="btn-back" onclick="showPage('landing-page')">
                    <i class="fas fa-arrow-left"></i> Back to home
                </button>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="register-page" class="page">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-header">
                    <div class="logo">
                        <i class="fas fa-heart-pulse"></i>
                        <span>MasenoMeet</span>
                    </div>
                    <h2>Join MasenoMeet</h2>
                    <p>Create your account and start connecting</p>
                </div>
                <form id="register-form" onsubmit="handleRegister(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="reg-firstname">First Name</label>
                            <div class="input-wrapper">
                                <i class="fas fa-user"></i>
                                <input type="text" id="reg-firstname" placeholder="John" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="reg-lastname">Last Name</label>
                            <div class="input-wrapper">
                                <i class="fas fa-user"></i>
                                <input type="text" id="reg-lastname" placeholder="Doe" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="reg-email">Email</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="reg-email" placeholder="your@maseno.ac.ke" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="reg-age">Age</label>
                            <div class="input-wrapper">
                                <i class="fas fa-calendar"></i>
                                <input type="number" id="reg-age" placeholder="21" min="18" max="99" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="reg-gender">Gender</label>
                            <div class="input-wrapper">
                                <i class="fas fa-venus-mars"></i>
                                <select id="reg-gender" required>
                                    <option value="">Select</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="reg-password">Password</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="reg-password" placeholder="Min. 6 characters" required minlength="6">
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('reg-password')"></i>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>I'm looking for</label>
                        <div class="intent-checkboxes">
                            <label class="intent-checkbox">
                                <input type="checkbox" name="intent" value="friendship">
                                <span><i class="fas fa-users"></i> Friendship</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="intent" value="party">
                                <span><i class="fas fa-glass-cheers"></i> Party Buddies</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="intent" value="relationship">
                                <span><i class="fas fa-heart"></i> Relationship</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="intent" value="casual">
                                <span><i class="fas fa-fire"></i> Casual</span>
                            </label>
                        </div>
                    </div>
                    <label class="checkbox-label terms-checkbox">
                        <input type="checkbox" required> I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                    </label>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>
                <div class="auth-divider">
                    <span>or continue with</span>
                </div>
                <button class="btn btn-google btn-block" onclick="googleSignIn()">
                    <i class="fab fa-google"></i> Google
                </button>
                <p class="auth-footer">
                    Already have an account? <a href="#" onclick="showPage('login-page')">Sign in</a>
                </p>
                <button class="btn-back" onclick="showPage('landing-page')">
                    <i class="fas fa-arrow-left"></i> Back to home
                </button>
            </div>
        </div>
    </div>

    <!-- Main App (After Login) -->
    <div id="app-page" class="page">
        <nav class="app-nav">
            <div class="logo">
                <i class="fas fa-heart-pulse"></i>
                <span>MasenoMeet</span>
            </div>
            <div class="nav-links">
                <button class="nav-link active" data-tab="discover" onclick="switchTab('discover')">
                    <i class="fas fa-compass"></i>
                    <span>Discover</span>
                </button>
                <button class="nav-link" data-tab="matches" onclick="switchTab('matches')">
                    <i class="fas fa-heart"></i>
                    <span>Matches</span>
                    <span class="badge" id="matches-badge">3</span>
                </button>
                <button class="nav-link" data-tab="messages" onclick="switchTab('messages')">
                    <i class="fas fa-comments"></i>
                    <span>Messages</span>
                    <span class="badge" id="messages-badge">5</span>
                </button>
                <button class="nav-link" data-tab="profile" onclick="switchTab('profile')">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
            </div>
            <div class="nav-actions">
                <button class="btn-icon" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-dot"></span>
                </button>
                <button class="btn-icon" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </nav>

        <!-- Discover Tab -->
        <div id="discover-tab" class="tab-content active">
            <div class="discover-container">
                <div class="filter-bar">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="friendship"><i class="fas fa-users"></i> Friends</button>
                    <button class="filter-btn" data-filter="party"><i class="fas fa-glass-cheers"></i> Party</button>
                    <button class="filter-btn" data-filter="relationship"><i class="fas fa-heart"></i> Relationship</button>
                    <button class="filter-btn" data-filter="casual"><i class="fas fa-fire"></i> Casual</button>
                </div>
                
                <div class="swipe-container">
                    <div class="card-stack" id="card-stack">
                        <!-- Cards will be dynamically loaded -->
                    </div>
                    
                    <div class="swipe-actions">
                        <button class="action-btn dislike" onclick="swipeCard('left')">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="action-btn superlike" onclick="swipeCard('super')">
                            <i class="fas fa-star"></i>
                        </button>
                        <button class="action-btn like" onclick="swipeCard('right')">
                            <i class="fas fa-heart"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Matches Tab -->
        <div id="matches-tab" class="tab-content">
            <div class="matches-container">
                <h2>Your Matches</h2>
                <p class="subtitle">People who want to connect with you</p>
                <div class="matches-grid" id="matches-grid">
                    <!-- Matches will be dynamically loaded -->
                </div>
            </div>
        </div>

        <!-- Messages Tab -->
        <div id="messages-tab" class="tab-content">
            <div class="messages-container">
                <div class="conversations-list" id="conversations-list">
                    <h2>Messages</h2>
                    <!-- Conversations will be dynamically loaded -->
                </div>
                <div class="chat-window" id="chat-window">
                    <div class="chat-placeholder">
                        <i class="fas fa-comments"></i>
                        <p>Select a conversation to start chatting</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile-tab" class="tab-content">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar" id="profile-avatar">
                        <i class="fas fa-user"></i>
                        <label for="avatar-upload" class="avatar-edit">
                            <i class="fas fa-camera"></i>
                        </label>
                        <input type="file" id="avatar-upload" accept="image/*" onchange="uploadAvatar(event)">
                    </div>
                    <h2 id="profile-name">John Doe</h2>
                    <p id="profile-info">21 • Male • Maseno University</p>
                </div>
                
                <form id="profile-form" class="profile-form">
                    <div class="form-section">
                        <h3>About Me</h3>
                        <div class="form-group">
                            <label for="profile-bio">Bio</label>
                            <textarea id="profile-bio" placeholder="Tell others about yourself..." rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="profile-course">Course/Program</label>
                            <div class="input-wrapper">
                                <i class="fas fa-graduation-cap"></i>
                                <input type="text" id="profile-course" placeholder="e.g. Computer Science">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="profile-year">Year of Study</label>
                            <div class="input-wrapper">
                                <i class="fas fa-calendar-alt"></i>
                                <select id="profile-year">
                                    <option value="1">1st Year</option>
                                    <option value="2">2nd Year</option>
                                    <option value="3">3rd Year</option>
                                    <option value="4">4th Year</option>
                                    <option value="5">5th Year+</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>I'm Looking For</h3>
                        <div class="intent-checkboxes profile-intents">
                            <label class="intent-checkbox">
                                <input type="checkbox" name="profile-intent" value="friendship">
                                <span><i class="fas fa-users"></i> Friendship</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="profile-intent" value="party">
                                <span><i class="fas fa-glass-cheers"></i> Party Buddies</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="profile-intent" value="relationship">
                                <span><i class="fas fa-heart"></i> Relationship</span>
                            </label>
                            <label class="intent-checkbox">
                                <input type="checkbox" name="profile-intent" value="casual">
                                <span><i class="fas fa-fire"></i> Casual</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Interests</h3>
                        <div class="interests-input">
                            <input type="text" id="interest-input" placeholder="Add an interest (e.g. Music, Gaming)">
                            <button type="button" class="btn btn-primary" onclick="addInterest()">Add</button>
                        </div>
                        <div class="interests-tags" id="interests-tags">
                            <!-- Interests will be dynamically added -->
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block" onclick="saveProfile(event)">
                        <i class="fas fa-save"></i> Save Profile
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Match Modal -->
    <div id="match-modal" class="modal">
        <div class="modal-content match-modal-content">
            <div class="match-animation">
                <i class="fas fa-heart"></i>
            </div>
            <h2>It's a Match!</h2>
            <p>You and <span id="match-name">Sarah</span> liked each other</p>
            <div class="match-avatars">
                <div class="match-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="match-heart">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="match-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </div>
            <div class="match-actions">
                <button class="btn btn-primary" onclick="startChat()">
                    <i class="fas fa-comment"></i> Send Message
                </button>
                <button class="btn btn-outline" onclick="closeModal()">
                    Keep Swiping
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Action completed successfully</span>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="app.js"></script>
</body>
</html>
